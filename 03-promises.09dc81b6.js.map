{"mappings":"YAsDA,IAAMA,EAAOC,SAASC,cAAc,SAE9BC,GADaF,SAASC,cAAc,qBAC7BD,SAASC,cAAc,qBAC9BE,EAAcH,SAASC,cAAc,sBAE3C,SAASG,EAAcC,EAAKC,EAAUC,GAYpC,OAXAF,EAAIG,iBACY,IAAIC,SAAQ,SAACC,EAAKC,GAChCC,YAAW,WACaC,KAAKC,SAAW,GAEpCJ,EAAI,CAAEJ,WAAUC,UAEhBI,EAAI,CAAEL,WAAUC,S,GAEjBA,E,IAKPR,EAAKgB,iBAAiB,UAAU,SAAAV,GAC9BA,EAAIG,iBAMJ,IAJA,IAAMQ,EAAaC,OAAOD,EAAWE,OAC/BC,EAAYF,OAAOf,EAAKgB,OACxBE,EAASH,OAAOd,EAAYe,OAEzBG,EAAI,EAAGA,EAAID,EAAQC,GAAK,EAC/BjB,EAAc,EAAIiB,EAAGL,EAAaK,EAAIF,GACnCG,MAAK,SAAAC,G,IAAGjB,EAAQiB,EAARjB,SAAUC,EAAKgB,EAALhB,MACjBiB,QAAQC,IAAI,uBAAwCC,OAAfpB,EAAS,QAAYoB,OAANnB,EAAM,M,IAE3DoB,OAAM,SAAAJ,G,IAAGjB,EAAQiB,EAARjB,SAAUC,EAAKgB,EAALhB,MAClBiB,QAAQC,IAAI,sBAAuCC,OAAfpB,EAAS,QAAYoB,OAANnB,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["/* –ú—ñ–∫—Ä–æ –ø—Ä–æ—Ü–µ—Å–∏ –º–∞—é—Ç—å –±—ñ–ª—å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:\n- Promise; –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ - —ç—Ç–æ –æ–±—ä–µ–∫—Ç –≤ JavaScript, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ —Å—Ä–∞–∑—É, –ø–æ–∑–¥–Ω–µ–µ –∏–ª–∏ –Ω–∏–∫–æ–≥–¥–∞.\n- Observer - –í JavaScript –ø–∞—Ç—Ç–µ—Ä–Ω Observer (–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å) —è–≤–ª—è–µ—Ç—Å—è –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–º —à–∞–±–ª–æ–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –æ–±—ä–µ–∫—Ç–µ –∏–ª–∏ –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –í —ç—Ç–æ–º —à–∞–±–ª–æ–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è \"Subject\" (–°—É–±—ä–µ–∫—Ç), –∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è \"Observers\" (–ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏).\n\n–ú–∞–∫—Ä–æ –ø—Ä–æ—Ü–µ—Å–∏ —ã –≤–æ–Ω–∏ –º–∞—é—Ç—å –º–µ–Ω—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:\n- setTimeout;\n- setInterval;\n- setImmediate; - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞, –Ω–æ –¥–æ –Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π–Ω–æ–≥–æ —Ü–∏–∫–ª–∞.\n- requestAnimationFrame - —ç—Ç–æ –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–π –∏ –¥—Ä—É–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞ —Å –≤—ã—Å–æ–∫–æ–π —á–∞—Å—Ç–æ—Ç–æ–π –∫–∞–¥—Ä–æ–≤. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±—Ä–∞—É–∑–µ—Ä—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é, –∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫–∞–¥—Ä–∞.\n*/\n//----–ü—Ä–∏–∫–ª–∞–¥:\n// console.log('1');\n// setTimeout(() => {console.log('2')}, 0);\n// Promise.resolve('3').then(value => console.log(value));\n// console.log('4');\n// —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª—ã –±—É–¥–µ 1 4 3 2\n\n// const promise = new Promise((res, rej) => {\n//   // —Å—Ç–∞—Ç—É—Å resolve (fulfilled) - –ø–µ—Ä–µ–¥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —É—Å–ø—ñ—à–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–º–∏—Å—É —Ç–∞ rejected - –Ω–µ—É—Å–ø—ñ—à–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è\n//   const random = Math.random();\n//   console.log(random);\n//   setTimeout(() => {\n//     if (random > 0.5) {\n//       res('Yes üòé');\n//     } else {\n//       rej('No üò¢');\n//     }\n//   }, 1000);\n// });\n// console.log(promise);\n\n// //–¥–ª—è –æ–±—Ä–æ–±–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø—Ä–æ–º–∏—Å–∞ –Ω–∞–º –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ª–∞–Ω—É—é–≥ .then, .catch, .finnaly\n\n// promise // –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –ø–µ—Ä–µ–¥–∞–µ—Ç—å—Å—è –¥–≤—ñ –∫–∞–ª–±–µ–∫ —Ñ—É–Ω–∫—Ü—ñ—ó –ø–µ—Ä—à–∞ –ø–µ—Ä–µ–¥–∞—î —É—Å–ø—ñ—à–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, —Ç–æ–±—Ç–æ –Ω–∞—à resolve; 2 - reject.\n//   .then(data => {\n//     console.log(data);\n//     return data;\n//   })\n//   .then(resp => {\n//     console.log(resp);\n//   })\n//   .catch(err => {\n//     console.error(err);\n//   });\n\n//–ü—Ä–æ–º–∏—Å—ñ –≤—ñ–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ –±–µ–∫–µ–Ω–¥. –°—Ç–≤–ª—Ä–∏–º–æ —è–∫–∏—Å—å –∑–∞–ø–∏—Ç:\n// const resp = fetch('https://pokeapi.co/api/v2/pokemon/ditto');\n// console.log(resp);\n\n// resp\n// .then(resp => resp.json())\n// .then(data => console.log(data))\n// .catch(err => console.log(err))\n\nconst form = document.querySelector('.form');\nconst firstDelay = document.querySelector('input[name=delay]');\nconst step = document.querySelector('input[name=step]');\nconst inputAmount = document.querySelector('input[name=amount]');\n\nfunction createPromise(evt, position, delay) {\n  evt.preventDefault();\n  const promise = new Promise((res, rej) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        res({ position, delay });\n      } else {\n        rej({ position, delay });\n      }\n    }, delay);\n  });\n  return promise;\n}\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n\n  const firstDelay = Number(firstDelay.value);\n  const delayStep = Number(step.value);\n  const amount = Number(inputAmount.value);\n\n  for (let i = 0; i < amount; i += 1) {\n    createPromise(1 + i, firstDelay + i * delayStep)\n      .then(({ position, delay }) => {\n        console.log(`‚úÖ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(`‚ùå Rejected promise ${position} in ${delay}ms`);\n      });\n  }\n});\n\n// 1. –Ñ —Ñ—É–Ω–∫—Ü—ñ—è createPromise(position, delay) - –í–ê–ñ–õ–ò–í–û - –≤–æ–Ω–∞ –ø–æ–≤–∏–Ω–Ω–∞ –í–ï–†–¢–ê–¢–ò –Ω–æ–≤–∏–π Promise\n// 2. –£ —Ç—ñ–ª—ñ –ø—Ä–æ–º—ñ—Å—É, –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –∑–∞—Ç—Ä–∏–º–∫–∞ –≤–∏–∫–ª–∏–∫—É –∫–æ–ª–±–µ–∫—ñ–≤ resolve —ñ reject, —è–∫–∞ –∑–∞–¥–∞—î—Ç—å—Å—è —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä delay –∑ —Ñ—É–Ω–∫—Ü—ñ—ó (–ø—ñ–¥–∫–∞–∑–∫–∞ - setTimeout).\n// 3. –î–æ —Ç—ñ–ª–∞ –ø—Ä–æ–º—ñ—Å—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–∏—á–µ–ø–∏—Ç–∏ –º–µ—Ç–æ–¥–∏ then —ñ catch, —è–∫—ñ –±—É–¥—É—å –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è –∑ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∑ –∫–æ–ª–±–µ–∫—ñ–≤ resolve —Ç–∞ reject. –ê—Ä–≥—É–º–µ–Ω—Ç–æ–º —â–æ –≤ resolve, —â–æ –≤ reject –±—É–¥–µ –æ–±‚Äô—î–∫—Ç { position, delay }, –∞ then —ñ catch –±—É–¥—É—Ç—å –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Å–≤—ñ–π –∫–æ–ª–±–µ–∫ –∑ –ø–µ—Ä–µ–¥–∞–Ω–∏–º–∏ —ó–º –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ (—É –∑–∞–≤–¥–∞–Ω–Ω—ñ –∫–æ–ª–±–µ–∫–æ–º –º–µ—Ç–æ–¥—ñ–≤ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ then i catch –±—É–¥–µ console.log)\n// 4. –í—Å–µ, –≤–∏ –Ω–∞–ø–∏—Å–∞–ª–∏ –ø—Ä–æ–º—ñ—Å, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —è–∫–æ–≥–æ –º–∏ –æ—Ç—Ä–∏–º–∞—î–º–æ —á–µ—Ä–µ–∑ delay —á–∞—Å—É, —Ü–µ –≥–æ—Ç–æ–≤–æ.\n// 5. –î–∞–ª—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–¥—É–º–∞—Ç–∏, —è–∫ –Ω–∞–º –≤–∏–∑–∏–≤–∞—Ç–∏ —Ü–µ–π –ø—Ä–æ–º—ñ—Å –ø–æ—Ç—Ä—ñ–±–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–∞–∑—ñ–≤.\n// 6. –ü–æ–¥—É–º–∞–ª–∏, –ø—Ä–∏–¥—É–º–∞–ª–∏ - –¥–æ–±—Ä–µ, –ø–æ—Ç—ñ–º, –Ω–∞ –∫–æ–∂–Ω—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó –≤–∏–∫–ª–∏–∫—É —Ñ—É–Ω–∫—Ü—ñ—ó createPromise(position, delay), –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ +1 –¥–æ position, —ñ +delay –¥–æ delay –∑ –ø–æ–ª—è ‚ÄúDelay step‚Äù.\n// 7. –ü–æ—Ç—ñ–º, –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ –≤—Ä–∞—Ö—É–≤–∞—Ç–∏ —â–µ —É–º–æ–≤—É –∑ first delay, –∞–ª–µ —Ç—É—Ç –±—É–∫–≤–∞–ª—å–Ω–æ –æ–¥–∏–Ω if –Ω–∞ 3 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥—É.\n"],"names":["$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$inputAmount","$ce04d3a99e08e73b$var$createPromise","evt","position","delay","preventDefault","Promise","res","rej","setTimeout","Math","random","addEventListener","firstDelay1","Number","value","delayStep","amount","i","then","param","console","log","concat","catch"],"version":3,"file":"03-promises.09dc81b6.js.map"}